<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediSage - Health is Wealth</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        :root {
            --color-primary: #138808;
            --color-secondary: #0090d9;
            --color-bg-mint: rgba(19, 136, 8, 0.08);
            --color-bg-peach: rgba(245, 158, 11, 0.08);
            --color-bg-lavender: rgba(147, 51, 234, 0.08);
            --color-bg-blue: rgba(0, 144, 217, 0.08);
            --color-text: #1f2121;
            --color-surface: #ffffff;
            --transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #fcfcf9;
            color: var(--color-text);
            overflow-x: hidden;
        }

        .top-header {
            background: white;
            padding: 1rem 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .container-custom {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .logo-img {
            height: 60px;
            width: auto;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #138808, #0090d9);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header-icons {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header-icon {
            position: relative;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--color-text);
            transition: var(--transition);
        }

        .header-icon:hover {
            color: var(--color-primary);
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff5459;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .login-btn {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(19, 136, 8, 0.3);
        }

        .motion-dock-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 999;
        }

        .dock-outer {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 0.5rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .dock-panel {
            display: flex;
            gap: 0.5rem;
        }

        .dock-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.75rem 1rem;
            cursor: pointer;
            border-radius: 15px;
            transition: var(--transition);
        }

        .dock-item:hover {
            background: var(--color-bg-mint);
            transform: translateY(-5px);
        }

        .dock-item.active {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
        }

        .dock-item.active .dock-icon {
            color: white;
        }

        .dock-item.active .dock-label {
            color: white;
        }

        .dock-icon {
            font-size: 1.5rem;
            color: var(--color-text);
            margin-bottom: 0.25rem;
        }

        .dock-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--color-text);
            white-space: nowrap;
        }

        .category-nav {
            background: white;
            padding: 1rem 0;
            margin-bottom: 2rem;
        }

        .category-pills {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .category-pill {
            padding: 0.5rem 1.5rem;
            border: 2px solid transparent;
            background: #f5f5f5;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .category-pill:hover {
            background: var(--color-bg-mint);
            border-color: var(--color-primary);
        }

        .category-pill.active {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
        }

        .hero-section {
            position: relative;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #138808, #0090d9);
            overflow: hidden;
            margin-bottom: 3rem;
        }

        .beams-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.3;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, transparent 0%, rgba(0, 0, 0, 0.3) 100%);
        }

        .hero-content {
            position: relative;
            z-index: 10;
            text-align: center;
            color: white;
            padding: 2rem;
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            text-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .hero-subtitle {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.95;
        }

        .search-box {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 50px;
            padding: 0.5rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .search-icon {
            font-size: 1.25rem;
            color: var(--color-primary);
        }

        .search-input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 1rem;
            padding: 0.5rem;
        }

        .quick-actions {
            margin: 3rem 0;
        }

        .action-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .bg-mint { background: var(--color-bg-mint) !important; }
        .bg-peach { background: var(--color-bg-peach) !important; }
        .bg-lavender { background: var(--color-bg-lavender) !important; }
        .bg-blue { background: var(--color-bg-blue) !important; }

        .action-icon {
            font-size: 2rem;
            color: var(--color-primary);
        }

        .action-content {
            flex: 1;
        }

        .action-title {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }

        .action-subtitle {
            font-size: 0.8rem;
            color: #777;
            font-weight: 600;
        }

        .action-arrow {
            font-size: 1.5rem;
            color: var(--color-primary);
        }

        .health-conditions {
            margin: 4rem 0;
        }

        .section-title {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .condition-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .condition-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            background: var(--color-bg-mint);
        }

        .condition-icon {
            font-size: 3rem;
            color: var(--color-primary);
            margin-bottom: 1rem;
        }

        .condition-name {
            font-weight: 600;
            color: var(--color-text);
        }

        .footer {
            background: var(--color-text);
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-top: 4rem;
        }

        .footer-text {
            margin: 0;
            opacity: 0.8;
        }

        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }

            .dock-label {
                display: none;
            }

            .dock-item {
                padding: 0.5rem;
            }
        }
        
        /* 
        Updated the dock navigation to replace "Health Records" with "Turtle AI" chatbot. 
        Created a fully functional AI chat interface with:
        - Turtle AI SDK Integration: Complete FastAPI connection class with WebSocket support
        - Interactive Chat UI: Modern chat interface with message bubbles and animations
        - Quick Reply Buttons: Context-aware suggestions for healthcare queries
        - Real-time Messaging: Message streaming support with loading states
        - Healthcare Context: Specialized responses for doctor, medicine, and lab test queries
        - Clear Chat: Session reset functionality
        - Responsive Design: Floating chat window with gradient header
        - Error Handling: Graceful offline mode with helpful fallback responses
        */
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Turtle AI SDK Integration
        class TurtleAI {
            constructor(config = {}) {
                this.baseURL = config.baseURL || 'http://localhost:8000';
                this.apiKey = config.apiKey || null;
                this.sessionId = this.generateSessionId();
                this.wsConnection = null;
                this.messageQueue = [];
                this.isConnected = false;
            }

            generateSessionId() {
                return `turtle_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
            }

            initWebSocket() {
                const wsURL = this.baseURL.replace('http', 'ws') + '/ws/chat';
                this.wsConnection = new WebSocket(wsURL);

                this.wsConnection.onopen = () => {
                    console.log('üê¢ Turtle AI WebSocket connected');
                    this.isConnected = true;
                    this.flushMessageQueue();
                };

                this.wsConnection.onmessage = (event) => {
                    const data = JSON.parse(event.data);
                    this.handleStreamingResponse(data);
                };

                this.wsConnection.onerror = (error) => {
                    console.error('üê¢ Turtle AI WebSocket error:', error);
                    this.isConnected = false;
                };

                this.wsConnection.onclose = () => {
                    console.log('üê¢ Turtle AI WebSocket disconnected');
                    this.isConnected = false;
                    setTimeout(() => this.initWebSocket(), 3000);
                };
            }

            async sendMessage(message, userId = 'anonymous', options = {}) {
                const requestBody = {
                    message: message,
                    user_id: userId,
                    session_id: this.sessionId,
                    context: options.context || {},
                    stream: options.stream || false,
                    model: options.model || 'turtle-healthcare-v1'
                };

                try {
                    const response = await fetch(`${this.baseURL}/api/v1/chat`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            ...(this.apiKey && { 'Authorization': `Bearer ${this.apiKey}` })
                        },
                        body: JSON.stringify(requestBody)
                    });

                    if (!response.ok) {
                        throw new Error(`Turtle AI Error: ${response.statusText}`);
                    }

                    const data = await response.json();
                    return this.formatResponse(data);
                } catch (error) {
                    console.error('üê¢ Turtle AI request failed:', error);
                    return this.getOfflineResponse(message);
                }
            }

            handleStreamingResponse(data) {
                if (data.type === 'chunk') {
                    window.dispatchEvent(new CustomEvent('turtleai-chunk', { 
                        detail: { text: data.content, isComplete: false }
                    }));
                } else if (data.type === 'complete') {
                    window.dispatchEvent(new CustomEvent('turtleai-chunk', { 
                        detail: { text: '', isComplete: true, fullResponse: data.response }
                    }));
                }
            }

            flushMessageQueue() {
                while (this.messageQueue.length > 0) {
                    const { message, userId } = this.messageQueue.shift();
                    this.sendMessage(message, userId);
                }
            }

            formatResponse(data) {
                return {
                    success: data.success || true,
                    response: data.response || data.message,
                    quickReplies: data.quick_replies || data.suggestions || [],
                    intent: data.intent || 'general',
                    confidence: data.confidence || 1.0,
                    metadata: data.metadata || {}
                };
            }

            getOfflineResponse(message) {
                const lowerMessage = message.toLowerCase();

                const offlineResponses = {
                    doctor: {
                        response: 'ü©∫ I can help you find doctors! Our specialists are available for consultations. Please note: I\'m currently offline, but I can still guide you.',
                        quickReplies: ['View Doctors', 'Specialties', 'Book Appointment']
                    },
                    medicine: {
                        response: 'üíä I can assist with medicine information. While I\'m offline, you can browse our medicine catalog or upload a prescription.',
                        quickReplies: ['Browse Medicines', 'Upload Prescription', 'Check Interactions']
                    },
                    test: {
                        response: 'üî¨ Lab tests can be booked easily. I\'m currently offline, but you can still explore our test packages.',
                        quickReplies: ['View Tests', 'Book Test', 'Home Collection']
                    },
                    default: {
                        response: 'üëã Hello! I\'m your healthcare assistant. I\'m currently in offline mode, but I can still help you navigate the platform.',
                        quickReplies: ['Find Doctors', 'Book Tests', 'Order Medicines', 'Health Info']
                    }
                };

                for (const [key, value] of Object.entries(offlineResponses)) {
                    if (lowerMessage.includes(key)) {
                        return { success: true, ...value };
                    }
                }

                return { success: true, ...offlineResponses.default };
            }

            async clearHistory() {
                this.sessionId = this.generateSessionId();
                return { success: true };
            }
        }

        // Turtle AI Chat Component
        function TurtleAIChat({ active }) {
            const [messages, setMessages] = useState([]);
            const [inputValue, setInputValue] = useState('');
            const [isLoading, setIsLoading] = useState(false);
            const [turtleAI] = useState(() => new TurtleAI());
            const messagesEndRef = useRef(null);

            useEffect(() => {
                if (active && messages.length === 0) {
                    setMessages([{
                        id: Date.now(),
                        type: 'bot',
                        text: 'üëã Hello! I\'m Turtle AI, your healthcare assistant. How can I help you today?',
                        quickReplies: ['Find Doctors', 'Book Lab Test', 'Order Medicine', 'Health Tips'],
                        timestamp: new Date()
                    }]);
                }
            }, [active]);

            useEffect(() => {
                messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            }, [messages]);

            const handleSendMessage = async (text) => {
                if (!text.trim()) return;

                const userMessage = {
                    id: Date.now(),
                    type: 'user',
                    text: text,
                    timestamp: new Date()
                };

                setMessages(prev => [...prev, userMessage]);
                setInputValue('');
                setIsLoading(true);

                try {
                    const response = await turtleAI.sendMessage(text);
                    
                    const botMessage = {
                        id: Date.now() + 1,
                        type: 'bot',
                        text: response.response,
                        quickReplies: response.quickReplies,
                        timestamp: new Date()
                    };

                    setMessages(prev => [...prev, botMessage]);
                } catch (error) {
                    console.error('Error:', error);
                } finally {
                    setIsLoading(false);
                }
            };

            const handleQuickReply = (reply) => {
                handleSendMessage(reply);
            };

            const handleClearChat = async () => {
                await turtleAI.clearHistory();
                setMessages([{
                    id: Date.now(),
                    type: 'bot',
                    text: 'üëã Chat cleared! How can I help you?',
                    quickReplies: ['Find Doctors', 'Book Lab Test', 'Order Medicine', 'Health Tips'],
                    timestamp: new Date()
                }]);
            };

            if (!active) return null;

            return (
                <div style={{
                    position: 'fixed',
                    top: '140px',
                    left: '50%',
                    transform: 'translateX(-50%)',
                    width: '90%',
                    maxWidth: '800px',
                    height: 'calc(100vh - 220px)',
                    background: 'white',
                    borderRadius: '20px',
                    boxShadow: '0 8px 32px rgba(0,0,0,0.1)',
                    display: 'flex',
                    flexDirection: 'column',
                    overflow: 'hidden',
                    zIndex: 100
                }}>
                    {/* Chat Header */}
                    <div style={{
                        background: 'linear-gradient(135deg, #138808, #0090d9)',
                        color: 'white',
                        padding: '1.5rem',
                        display: 'flex',
                        justifyContent: 'space-between',
                        alignItems: 'center'
                    }}>
                        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
                            <div style={{
                                width: '50px',
                                height: '50px',
                                background: 'rgba(255,255,255,0.2)',
                                borderRadius: '50%',
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center',
                                fontSize: '1.5rem'
                            }}>
                                üê¢
                            </div>
                            <div>
                                <div style={{ fontWeight: '700', fontSize: '1.2rem' }}>Turtle AI</div>
                                <div style={{ fontSize: '0.85rem', opacity: 0.9 }}>Healthcare Assistant</div>
                            </div>
                        </div>
                        <button
                            onClick={handleClearChat}
                            style={{
                                background: 'rgba(255,255,255,0.2)',
                                border: 'none',
                                color: 'white',
                                padding: '0.5rem 1rem',
                                borderRadius: '10px',
                                cursor: 'pointer',
                                fontSize: '0.9rem',
                                fontWeight: '600',
                                transition: 'all 0.3s'
                            }}
                            onMouseOver={(e) => e.target.style.background = 'rgba(255,255,255,0.3)'}
                            onMouseOut={(e) => e.target.style.background = 'rgba(255,255,255,0.2)'}
                        >
                            <i className="bi bi-trash"></i> Clear
                        </button>
                    </div>

                    {/* Messages Container */}
                    <div style={{
                        flex: 1,
                        overflowY: 'auto',
                        padding: '1.5rem',
                        background: '#f8f9fa'
                    }}>
                        {messages.map((msg) => (
                            <div key={msg.id} style={{
                                marginBottom: '1rem',
                                display: 'flex',
                                justifyContent: msg.type === 'user' ? 'flex-end' : 'flex-start'
                            }}>
                                <div style={{
                                    maxWidth: '70%',
                                    display: 'flex',
                                    flexDirection: 'column',
                                    gap: '0.5rem'
                                }}>
                                    <div style={{
                                        padding: '1rem 1.25rem',
                                        borderRadius: msg.type === 'user' ? '20px 20px 5px 20px' : '20px 20px 20px 5px',
                                        background: msg.type === 'user' 
                                            ? 'linear-gradient(135deg, #138808, #0090d9)'
                                            : 'white',
                                        color: msg.type === 'user' ? 'white' : '#1f2121',
                                        boxShadow: '0 2px 8px rgba(0,0,0,0.08)',
                                        fontSize: '0.95rem',
                                        lineHeight: '1.5'
                                    }}>
                                        {msg.text}
                                    </div>
                                    {msg.quickReplies && msg.quickReplies.length > 0 && (
                                        <div style={{
                                            display: 'flex',
                                            flexWrap: 'wrap',
                                            gap: '0.5rem'
                                        }}>
                                            {msg.quickReplies.map((reply, idx) => (
                                                <button
                                                    key={idx}
                                                    onClick={() => handleQuickReply(reply)}
                                                    style={{
                                                        background: 'white',
                                                        border: '2px solid #138808',
                                                        color: '#138808',
                                                        padding: '0.5rem 1rem',
                                                        borderRadius: '20px',
                                                        cursor: 'pointer',
                                                        fontSize: '0.85rem',
                                                        fontWeight: '600',
                                                        transition: 'all 0.3s'
                                                    }}
                                                    onMouseOver={(e) => {
                                                        e.target.style.background = '#138808';
                                                        e.target.style.color = 'white';
                                                    }}
                                                    onMouseOut={(e) => {
                                                        e.target.style.background = 'white';
                                                        e.target.style.color = '#138808';
                                                    }}
                                                >
                                                    {reply}
                                                </button>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            </div>
                        ))}
                        {isLoading && (
                            <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>
                                <div style={{
                                    width: '40px',
                                    height: '40px',
                                    background: 'white',
                                    borderRadius: '50%',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    fontSize: '1.2rem'
                                }}>
                                    üê¢
                                </div>
                                <div style={{
                                    background: 'white',
                                    padding: '1rem',
                                    borderRadius: '20px',
                                    display: 'flex',
                                    gap: '0.5rem'
                                }}>
                                    <div style={{
                                        width: '8px',
                                        height: '8px',
                                        background: '#138808',
                                        borderRadius: '50%',
                                        animation: 'pulse 1.5s ease-in-out infinite'
                                    }}></div>
                                    <div style={{
                                        width: '8px',
                                        height: '8px',
                                        background: '#138808',
                                        borderRadius: '50%',
                                        animation: 'pulse 1.5s ease-in-out 0.3s infinite'
                                    }}></div>
                                    <div style={{
                                        width: '8px',
                                        height: '8px',
                                        background: '#138808',
                                        borderRadius: '50%',
                                        animation: 'pulse 1.5s ease-in-out 0.6s infinite'
                                    }}></div>
                                </div>
                            </div>
                        )}
                        <div ref={messagesEndRef} />
                    </div>

                    {/* Input Area */}
                    <div style={{
                        padding: '1.5rem',
                        background: 'white',
                        borderTop: '1px solid #e0e0e0'
                    }}>
                        <div style={{
                            display: 'flex',
                            gap: '1rem',
                            alignItems: 'center'
                        }}>
                            <input
                                type="text"
                                value={inputValue}
                                onChange={(e) => setInputValue(e.target.value)}
                                onKeyPress={(e) => e.key === 'Enter' && handleSendMessage(inputValue)}
                                placeholder="Type your message..."
                                style={{
                                    flex: 1,
                                    padding: '1rem 1.5rem',
                                    border: '2px solid #e0e0e0',
                                    borderRadius: '25px',
                                    fontSize: '1rem',
                                    outline: 'none',
                                    transition: 'border-color 0.3s'
                                }}
                                onFocus={(e) => e.target.style.borderColor = '#138808'}
                                onBlur={(e) => e.target.style.borderColor = '#e0e0e0'}
                            />
                            <button
                                onClick={() => handleSendMessage(inputValue)}
                                disabled={!inputValue.trim() || isLoading}
                                style={{
                                    background: inputValue.trim() && !isLoading
                                        ? 'linear-gradient(135deg, #138808, #0090d9)'
                                        : '#e0e0e0',
                                    color: 'white',
                                    border: 'none',
                                    width: '50px',
                                    height: '50px',
                                    borderRadius: '50%',
                                    cursor: inputValue.trim() && !isLoading ? 'pointer' : 'not-allowed',
                                    fontSize: '1.2rem',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    transition: 'all 0.3s'
                                }}
                            >
                                <i className="bi bi-send-fill"></i>
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function App() {
            const [activePage, setActivePage] = useState('home');
            const [activeCategory, setActiveCategory] = useState('YogaMate');
            const [cartCount, setCartCount] = useState(0);

            const categories = ['YogaMate', 'GYMbar', 'Drinks & Supplements', 'Personal Care', 'Ayurvedic'];
            
            const healthConditions = [
                { icon: 'activity', name: 'Diabetes Care' },
                { icon: 'heart-pulse', name: 'Cardiac Care' },
                { icon: 'capsule', name: 'Stomach Care' },
                { icon: 'bandaid', name: 'Pain Relief' },
                { icon: 'lungs', name: 'Liver Care' },
                { icon: 'thermometer-half', name: 'Fever Care' }
            ];

            const quickActions = [
                { icon: 'shop', title: 'Pharmacy Near Me', subtitle: 'FIND STORE', bg: 'bg-mint' },
                { icon: 'clipboard-check', title: 'Get 20% off', subtitle: 'UPLOAD NOW', bg: 'bg-peach' },
                { icon: 'calendar2-check', title: 'Doctor Appointment', subtitle: 'BOOK NOW', bg: 'bg-lavender' },
                { icon: 'droplet-fill', title: 'Lab Tests', subtitle: 'AT HOME', bg: 'bg-blue' }
            ];

            const dockItems = [
                { id: 'home', icon: 'house-fill', label: 'Healthier' },
                { id: 'doctors', icon: 'person-hearts', label: 'Find Doctors' },
                { id: 'lab-tests', icon: 'clipboard2-pulse-fill', label: 'Lab Tests' },
                { id: 'ninja-x', icon: 'lightning-charge-fill', label: 'Ninja X' },
                { id: 'turtle-ai', icon: 'chat-dots-fill', label: 'Turtle AI' }
            ];

            return (
                <>
                    {/* Top Header */}
                    <div className="top-header">
                        <div className="container-custom">
                            <div className="d-flex justify-content-between align-items-center">
                                <div className="d-flex align-items-center gap-3">
                                    <img 
                                        src="https://i.postimg.cc/JhCCv05w/Image.png" 
                                        alt="MediSage Logo" 
                                        className="logo-img"
                                    />
                                    <span className="logo-text">MediSage</span>
                                </div>

                                <div className="header-icons">
                                    <div className="header-icon d-none d-md-block">
                                        <i className="bi bi-gear"></i>
                                    </div>
                                    <div className="header-icon">
                                        <i className="bi bi-cart3"></i>
                                        <span className="cart-badge">{cartCount}</span>
                                    </div>
                                    <button className="login-btn">
                                        <i className="bi bi-person-circle"></i>
                                        <span className="d-none d-md-inline">Login</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Motion Dock Navigation */}
                    <div className="motion-dock-container">
                        <div className="dock-outer">
                            <div className="dock-panel">
                                {dockItems.map(item => (
                                    <div 
                                        key={item.id}
                                        className={`dock-item ${activePage === item.id ? 'active' : ''}`}
                                        onClick={() => setActivePage(item.id)}
                                    >
                                        <div className="dock-icon">
                                            <i className={`bi bi-${item.icon}`}></i>
                                        </div>
                                        <div className="dock-label">{item.label}</div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* Category Navigation */}
                    <div className="category-nav">
                        <div className="container-custom">
                            <div className="category-pills">
                                {categories.map(category => (
                                    <button
                                        key={category}
                                        className={`category-pill ${activeCategory === category ? 'active' : ''}`}
                                        onClick={() => setActiveCategory(category)}
                                    >
                                        {category}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* HOME PAGE */}
                    <div className={`page-section ${activePage === 'home' ? 'active' : ''}`}>
                        {/* Hero Section */}
                        <section className="hero-section">
                            <div className="beams-container">
                                <canvas id="beamsCanvas"></canvas>
                            </div>
                            <div className="hero-overlay"></div>

                            <div className="container-custom">
                                <div className="hero-content">
                                    <h1 className="hero-title">MEDS ESSENTIALS</h1>
                                    <p className="hero-subtitle">Your Complete Digital Health Assistant</p>
                                    <div className="search-box">
                                        <i className="bi bi-search search-icon"></i>
                                        <input 
                                            type="text" 
                                            className="search-input" 
                                            placeholder="Search Medicines, Doctors, Lab Tests..."
                                        />
                                    </div>
                                </div>
                            </div>
                        </section>

                        {/* Quick Actions */}
                        <section className="quick-actions">
                            <div className="container-custom">
                                <div className="row g-4">
                                    {quickActions.map((action, index) => (
                                        <div key={index} className="col-md-6 col-lg-3">
                                            <div className={`action-card ${action.bg}`}>
                                                <div className="action-icon">
                                                    <i className={`bi bi-${action.icon}`}></i>
                                                </div>
                                                <div className="action-content">
                                                    <div className="action-title">{action.title}</div>
                                                    <div className="action-subtitle">{action.subtitle}</div>
                                                </div>
                                                <div className="action-arrow">
                                                    <i className="bi bi-chevron-right"></i>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </section>

                        {/* Health Conditions */}
                        <section className="health-conditions">
                            <div className="container-custom">
                                <h2 className="section-title">Health is Wealth</h2>
                                <div className="row g-4">
                                    {healthConditions.map((condition, index) => (
                                        <div key={index} className="col-6 col-md-4 col-lg-2">
                                            <div className="condition-card">
                                                <div className="condition-icon">
                                                    <i className={`bi bi-${condition.icon}`}></i>
                                                </div>
                                                <div className="condition-name">{condition.name}</div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </section>
                    </div>

                    {/* Other Pages Placeholders */}
                    <div className={`page-section ${activePage === 'doctors' ? 'active' : ''}`}>
                        <div className="container-custom" style={{minHeight: '400px', paddingTop: '2rem'}}>
                            <h2 className="section-title">Find Doctors</h2>
                            <p style={{textAlign: 'center', color: '#777'}}>Doctor listing coming soon...</p>
                        </div>
                    </div>

                    <div className={`page-section ${activePage === 'lab-tests' ? 'active' : ''}`}>
                        <div className="container-custom" style={{minHeight: '400px', paddingTop: '2rem'}}>
                            <h2 className="section-title">Lab Tests</h2>
                            <p style={{textAlign: 'center', color: '#777'}}>Lab tests catalog coming soon...</p>
                        </div>
                    </div>

                    <div className={`page-section ${activePage === 'ninja-x' ? 'active' : ''}`}>
                        <div className="container-custom" style={{minHeight: '400px', paddingTop: '2rem'}}>
                            <h2 className="section-title">Ninja X</h2>
                            <p style={{textAlign: 'center', color: '#777'}}>Ninja X features coming soon...</p>
                        </div>
                    </div>

                    <TurtleAIChat active={activePage === 'turtle-ai'} />

                    {/* Footer */}
                    <footer className="footer">
                        <div className="container-custom">
                            <p className="footer-text">
                                &copy; 2025 MediSage. All rights reserved. | Healthcare Platform for Digital Assistance
                            </p>
                        </div>
                    </footer>
                </>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));

        // Simple beam animation
        const canvas = document.getElementById('beamsCanvas');
        if (canvas) {
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = 400;

            const beams = [];
            for (let i = 0; i < 5; i++) {
                beams.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2
                });
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.lineWidth = 2;

                beams.forEach((beam, i) => {
                    beam.x += beam.vx;
                    beam.y += beam.vy;

                    if (beam.x < 0 || beam.x > canvas.width) beam.vx *= -1;
                    if (beam.y < 0 || beam.y > canvas.height) beam.vy *= -1;

                    beams.forEach((other, j) => {
                        if (i !== j) {
                            const dx = other.x - beam.x;
                            const dy = other.y - beam.y;
                            const dist = Math.sqrt(dx * dx + dy * dy);
                            
                            if (dist < 200) {
                                ctx.beginPath();
                                ctx.moveTo(beam.x, beam.y);
                                ctx.lineTo(other.x, other.y);
                                ctx.stroke();
                            }
                        }
                    });
                });

                requestAnimationFrame(animate);
            }

            animate();

            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = 400;
            });
        }
    </script>
</body>
</html>