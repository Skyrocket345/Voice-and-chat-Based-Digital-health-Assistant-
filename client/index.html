<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediSage - Health is Wealth</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        :root {
            --color-primary: #138808;
            --color-secondary: #0090d9;
            --color-bg-mint: rgba(19, 136, 8, 0.08);
            --color-bg-peach: rgba(245, 158, 11, 0.08);
            --color-bg-lavender: rgba(147, 51, 234, 0.08);
            --color-bg-blue: rgba(0, 144, 217, 0.08);
            --color-text: #1f2121;
            --color-surface: #ffffff;
            --transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #fcfcf9;
            color: var(--color-text);
            overflow-x: hidden;
        }

        .top-header {
            background: white;
            padding: 1rem 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .container-custom {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .logo-img {
            height: 60px;
            width: auto;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #138808, #0090d9);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header-icons {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header-icon {
            position: relative;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--color-text);
            transition: var(--transition);
        }

        .header-icon:hover {
            color: var(--color-primary);
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff5459;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .login-btn {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(19, 136, 8, 0.3);
        }

        .motion-dock-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 999;
        }

        .dock-outer {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 0.5rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .dock-panel {
            display: flex;
            gap: 0.5rem;
        }

        .dock-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.75rem 1rem;
            cursor: pointer;
            border-radius: 15px;
            transition: var(--transition);
        }

        .dock-item:hover {
            background: var(--color-bg-mint);
            transform: translateY(-5px);
        }

        .dock-item.active {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
        }

        .dock-item.active .dock-icon {
            color: white;
        }

        .dock-item.active .dock-label {
            color: white;
        }

        .dock-icon {
            font-size: 1.5rem;
            color: var(--color-text);
            margin-bottom: 0.25rem;
        }

        .dock-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--color-text);
            white-space: nowrap;
        }

        .category-nav {
            background: white;
            padding: 1rem 0;
            margin-bottom: 2rem;
        }

        .category-pills {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .category-pill {
            padding: 0.5rem 1.5rem;
            border: 2px solid transparent;
            background: #f5f5f5;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .category-pill:hover {
            background: var(--color-bg-mint);
            border-color: var(--color-primary);
        }

        .category-pill.active {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
        }

        .hero-section {
            position: relative;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, rgba(19, 136, 8, 0.85), rgba(0, 144, 217, 0.85)), 
                        url('https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/135082578/4ebe04a4-2bf2-4ee8-b475-a0813dc34e08/WhatsApp-Image-2025-10-31-at-01.42.23_306c8809.jpg?AWSAccessKeyId=ASIA2F3EMEYEYVARBSZY&Signature=ysr0BYXqtIdZ1LhDXu7MT0Fenmg%3D&x-amz-security-token=IQoJb3JpZ2luX2VjED0aCXVzLWVhc3QtMSJGMEQCIBVn1B5ZcfM0mq6MvUYYy0i6CvmvuFNsPk0vKMFCdto8AiBvPYnL2ASGiyHpqkxezQtStsFM2XcHpzgUSL69rVkOqCr8BAj2%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAEaDDY5OTc1MzMwOTcwNSIMUFjipof7BYaMcTIDKtAE6SXt1cmjeKzmoKL5bNveKM50iXO7IoEZ60234vYDZMhRcY3uSddAVWrnyshb3T67%2FF7PmeZxlv8FM3qHbebE0DJZKHuXw1rGewd%2F4k3g6tNSIY%2FbOOKgimtFYateNIoqWK1zpefDzr1aL9RUyIWg%2BE2oEj%2FhNaSdBDxttKkz42R9FHHN1DxXy6x5JyZsy9rLmJiLzJdy8tV8mjquOpgtN5PBPyVZMJNBHzzZyYFoYqfExMqkF1abGCnm8GwkS1YGhvSaKhy%2FoMUO6Zk0uyJ5Q6MbzlrVQwi0OEQt4wPadUyp9uny%2F6ZV5Jf7Nf84OpjR9yES0bhc1umLfNqVU7r%2BNarA8%2Fs4nFE9IZ9Tp6DKKkl%2BHaqUC4N5G8SHdCmEHtS306fvtkc1pBURMtint1Dq9ZArKQHDtmK2V6W%2FD5AnAGqifXMiQFna%2BdiUYwKi24pOPxRakIENZHVTWA0TgywiwyRRGmz5aD1CWn9KmWgZ2cW2nBQ0fGe3Gs0J4DsOfqxwrc38c0CKF4ha%2FJyW4bY9yt2H%2BIpkVBVSbhtUWHRS%2BDIjIQ50Dt8RzN12TL5GzePEFnbD0J5h7EtNZQq%2F9ijreJAYIrCEprPRoqT0jdg%2BOFFuITHrz9XPcjr0Gixxai7zq%2F2BplL%2FrT4yCdoLJbVCfzo%2BKvByU%2FbQyu5lUsalWW6%2BiXxMMzcHlxSB21uIUN41glruWuHp4ByTGsFr8IQ8EA2UOteugJ5FVCvjV%2FSbHbKXJjWsbXi7SQOsN3o4tJ%2B%2Fp4MJll0bE0QpOyvaFcs39DDWlo%2FIBjqZAekZIZlKrmDFoDNSC1L99AHpnxQyB3xa9PgKcT1HOm0eyaNtmw4AeN8U2e82px1KScIeGJF0S2lwgJxSRu6yLcss54Y5vDov4aKs9Rq6PdQrmwIo8Uej9kHjVDii%2B1JvFYn1%2FFIWIBl64IRqVHMYEN36vRqKqYTvTT5EhSrA2lab9P91OWNT7zMCpHURSBq8jrgvJi89h1nKtg%3D%3D&Expires=1764450878') center/cover;
            overflow: hidden;
            margin-bottom: 3rem;
        }

        .beams-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.2;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, transparent 0%, rgba(0, 0, 0, 0.4) 100%);
        }

        .hero-content {
            position: relative;
            z-index: 10;
            text-align: center;
            color: white;
            padding: 2rem;
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            text-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .hero-subtitle {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.95;
        }

        .search-box {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 50px;
            padding: 0.5rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .search-icon {
            font-size: 1.25rem;
            color: var(--color-primary);
        }

        .search-input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 1rem;
            padding: 0.5rem;
        }

        .quick-actions {
            margin: 3rem 0;
        }

        .action-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .bg-mint { background: var(--color-bg-mint) !important; }
        .bg-peach { background: var(--color-bg-peach) !important; }
        .bg-lavender { background: var(--color-bg-lavender) !important; }
        .bg-blue { background: var(--color-bg-blue) !important; }

        .action-icon {
            font-size: 2rem;
            color: var(--color-primary);
        }

        .action-content {
            flex: 1;
        }

        .action-title {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }

        .action-subtitle {
            font-size: 0.8rem;
            color: #777;
            font-weight: 600;
        }

        .action-arrow {
            font-size: 1.5rem;
            color: var(--color-primary);
        }

        .health-conditions {
            margin: 4rem 0;
        }

        .section-title {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .condition-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .condition-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            background: var(--color-bg-mint);
        }

        .condition-icon {
            font-size: 3rem;
            color: var(--color-primary);
            margin-bottom: 1rem;
        }

        .condition-name {
            font-weight: 600;
            color: var(--color-text);
        }

        .footer {
            background: var(--color-text);
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-top: 4rem;
            position: relative;
            bottom: 0;
            width: 100%;
        }

        .footer-text {
            margin: 0;
            opacity: 0.8;
        }

        .hover-panel {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 1rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            z-index: 998;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .hover-panel-item {
            width: 50px;
            height: 50px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            background: white;
            border: 2px solid transparent;
            position: relative;
        }

        .hover-panel-item:hover {
            transform: scale(1.1);
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            border-color: white;
        }

        .hover-panel-item:hover .hover-panel-icon {
            color: white;
        }

        .hover-panel-item.active {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
        }

        .hover-panel-item.active .hover-panel-icon {
            color: white;
        }

        .hover-panel-icon {
            font-size: 1.5rem;
            color: var(--color-text);
            transition: color 0.3s;
        }

        .hover-panel-tooltip {
            position: absolute;
            right: calc(100% + 15px);
            background: var(--color-text);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            font-size: 0.85rem;
            font-weight: 600;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .hover-panel-item:hover .hover-panel-tooltip {
            opacity: 1;
        }

        .hover-panel-tooltip::after {
            content: '';
            position: absolute;
            right: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid var(--color-text);
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
        }

        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }

            .dock-label {
                display: none;
            }

            .dock-item {
                padding: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Turtle AI SDK Integration
        class TurtleAI {
            constructor(config = {}) {
                this.baseURL = config.baseURL || 'http://localhost:8000';
                this.apiKey = config.apiKey || null;
                this.sessionId = this.generateSessionId();
                this.wsConnection = null;
                this.messageQueue = [];
                this.isConnected = false;
            }

            generateSessionId() {
                return `turtle_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
            }

            initWebSocket() {
                const wsURL = this.baseURL.replace('http', 'ws') + '/ws/chat';
                this.wsConnection = new WebSocket(wsURL);

                this.wsConnection.onopen = () => {
                    console.log('ðŸ¢ Turtle AI WebSocket connected');
                    this.isConnected = true;
                    this.flushMessageQueue();
                };

                this.wsConnection.onmessage = (event) => {
                    const data = JSON.parse(event.data);
                    this.handleStreamingResponse(data);
                };

                this.wsConnection.onerror = (error) => {
                    console.error('ðŸ¢ Turtle AI WebSocket error:', error);
                    this.isConnected = false;
                };

                this.wsConnection.onclose = () => {
                    console.log('ðŸ¢ Turtle AI WebSocket disconnected');
                    this.isConnected = false;
                    setTimeout(() => this.initWebSocket(), 3000);
                };
            }

            async sendMessage(message, userId = 'anonymous', options = {}) {
                const requestBody = {
                    message: message,
                    user_id: userId,
                    session_id: this.sessionId,
                    context: options.context || {},
                    stream: options.stream || false,
                    model: options.model || 'turtle-healthcare-v1'
                };

                try {
                    const response = await fetch(`${this.baseURL}/api/v1/chat`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            ...(this.apiKey && { 'Authorization': `Bearer ${this.apiKey}` })
                        },
                        body: JSON.stringify(requestBody)
                    });

                    if (!response.ok) {
                        throw new Error(`Turtle AI Error: ${response.statusText}`);
                    }

                    const data = await response.json();
                    return this.formatResponse(data);
                } catch (error) {
                    console.error('ðŸ¢ Turtle AI request failed:', error);
                    return this.getOfflineResponse(message);
                }
            }

            handleStreamingResponse(data) {
                if (data.type === 'chunk') {
                    window.dispatchEvent(new CustomEvent('turtleai-chunk', { 
                        detail: { text: data.content, isComplete: false }
                    }));
                } else if (data.type === 'complete') {
                    window.dispatchEvent(new CustomEvent('turtleai-chunk', { 
                        detail: { text: '', isComplete: true, fullResponse: data.response }
                    }));
                }
            }

            flushMessageQueue() {
                while (this.messageQueue.length > 0) {
                    const { message, userId } = this.messageQueue.shift();
                    this.sendMessage(message, userId);
                }
            }

            formatResponse(data) {
                return {
                    success: data.success || true,
                    response: data.response || data.message,
                    quickReplies: data.quick_replies || data.suggestions || [],
                    intent: data.intent || 'general',
                    confidence: data.confidence || 1.0,
                    metadata: data.metadata || {}
                };
            }

            getOfflineResponse(message) {
                const lowerMessage = message.toLowerCase();            const medicalKnowledge = {
                hipaa: {
                    response: 'ðŸ”’ **HIPAA (Health Insurance Portability and Accountability Act)** protects your health information privacy.\n\n**Key Rights:**\nâ€¢ Access your medical records\nâ€¢ Request corrections to records\nâ€¢ Get notice of privacy practices\nâ€¢ Decide who sees your health info\n\n**Privacy Rule:** National standards protect PHI (Protected Health Information). Covered entities must secure patient records and limit access.\n\n**Your healthcare provider can share information for treatment, payment, and operations without consent, but needs authorization for other uses.**',
                    quickReplies: ['Patient Rights', 'Privacy Practices', 'Data Security', 'Medical Records']
                },
                firstaid: {
                    response: 'ðŸ¥ **Essential First Aid Kit Items:**\n\n**Wound Care:**\nâ€¢ Adhesive bandages (various sizes)\nâ€¢ Sterile gauze pads\nâ€¢ Medical tape\nâ€¢ Antiseptic wipes\nâ€¢ Tweezers & scissors\nâ€¢ Disposable gloves\n\n**Medications:**\nâ€¢ Pain relievers\nâ€¢ Antihistamines\nâ€¢ Antacids\nâ€¢ Anti-diarrheal medication\n\n**Tools:**\nâ€¢ Thermometer\nâ€¢ CPR face shield\nâ€¢ Hand sanitizer\nâ€¢ Emergency contact info',
                    quickReplies: ['Wound Care', 'Burns Treatment', 'Emergency Supplies', 'CPR Guide']
                },
                medical_terms: {
                    response: 'ðŸ“š **Common Medical Terms:**\n\n**Vital Signs:**\nâ€¢ BP - Blood Pressure\nâ€¢ HR - Heart Rate\nâ€¢ Temp - Temperature\nâ€¢ RR - Respiratory Rate\n\n**Conditions:**\nâ€¢ Acute - Sudden onset\nâ€¢ Chronic - Long-term\nâ€¢ Benign - Not harmful\nâ€¢ Malignant - Cancerous\n\n**Procedures:**\nâ€¢ Biopsy - Tissue sample\nâ€¢ CT/MRI - Imaging scans\nâ€¢ EKG - Heart monitoring',
                    quickReplies: ['More Terms', 'Medications', 'Lab Tests', 'Procedures']
                }
            };

            const offlineResponses = {
                doctor: {
                    response: 'ðŸ©º I can help you find doctors! Our specialists are available for consultations. Please note: I\'m currently offline, but I can still guide you.',
                    quickReplies: ['View Doctors', 'Specialties', 'Book Appointment']
                },
                medicine: {
                    response: 'ðŸ’Š I can assist with medicine information. While I\'m offline, you can browse our medicine catalog or upload a prescription.',
                    quickReplies: ['Browse Medicines', 'Upload Prescription', 'Check Interactions']
                },
                test: {
                    response: 'ðŸ”¬ Lab tests can be booked easily. I\'m currently offline, but you can still explore our test packages.',
                    quickReplies: ['View Tests', 'Book Test', 'Home Collection']
                },
                hipaa: medicalKnowledge.hipaa,
                'first aid': medicalKnowledge.firstaid,
                'medical term': medicalKnowledge.medical_terms,
                privacy: medicalKnowledge.hipaa,
                emergency: medicalKnowledge.firstaid,
                default: {
                    response: 'ðŸ‘‹ Hello! I\'m your healthcare assistant trained in medical knowledge, HIPAA regulations, and first aid guidance.\n\n**I can help with:**\nâ€¢ HIPAA privacy rules & patient rights\nâ€¢ First aid kit essentials & emergency care\nâ€¢ Medical terminology & healthcare info\nâ€¢ Finding doctors & booking tests\nâ€¢ Medicine information & prescriptions',
                    quickReplies: ['HIPAA Info', 'First Aid Guide', 'Medical Terms', 'Find Doctors']
                }
            };

                for (const [key, value] of Object.entries(offlineResponses)) {
                    if (lowerMessage.includes(key)) {
                        return { success: true, ...value };
                    }
                }

                return { success: true, ...offlineResponses.default };
            }

            async clearHistory() {
                this.sessionId = this.generateSessionId();
                return { success: true };
            }
        }

        // ScrollStack Doctors Component
        function ScrollStackDoctors({ active }) {
            const scrollerRef = useRef(null);
            const cardsRef = useRef([]);
            const lastTransformsRef = useRef(new Map());

            const doctors = [
                {
                    id: 1,
                    name: "Dr. Sarah Johnson",
                    specialty: "Cardiologist",
                    experience: "15+ years",
                    rating: 4.9,
                    patients: "2,500+",
                    availability: "Available Today",
                    image: "https://api.dicebear.com/7.x/avataaars/svg?seed=Sarah",
                    gradient: "linear-gradient(135deg, #667eea 0%, #764ba2 100%)"
                },
                {
                    id: 2,
                    name: "Dr. Michael Chen",
                    specialty: "Neurologist",
                    experience: "12+ years",
                    rating: 4.8,
                    patients: "1,800+",
                    availability: "Available Tomorrow",
                    image: "https://api.dicebear.com/7.x/avataaars/svg?seed=Michael",
                    gradient: "linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"
                },
                {
                    id: 3,
                    name: "Dr. Emily Rodriguez",
                    specialty: "Pediatrician",
                    experience: "10+ years",
                    rating: 4.9,
                    patients: "3,200+",
                    availability: "Available Today",
                    image: "https://api.dicebear.com/7.x/avataaars/svg?seed=Emily",
                    gradient: "linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"
                },
                {
                    id: 4,
                    name: "Dr. James Wilson",
                    specialty: "Orthopedic Surgeon",
                    experience: "18+ years",
                    rating: 4.7,
                    patients: "2,100+",
                    availability: "Available This Week",
                    image: "https://api.dicebear.com/7.x/avataaars/svg?seed=James",
                    gradient: "linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"
                },
                {
                    id: 5,
                    name: "Dr. Priya Sharma",
                    specialty: "Dermatologist",
                    experience: "8+ years",
                    rating: 4.8,
                    patients: "1,500+",
                    availability: "Available Today",
                    image: "https://api.dicebear.com/7.x/avataaars/svg?seed=Priya",
                    gradient: "linear-gradient(135deg, #fa709a 0%, #fee140 100%)"
                },
                {
                    id: 6,
                    name: "Dr. Robert Taylor",
                    specialty: "General Physician",
                    experience: "20+ years",
                    rating: 4.9,
                    patients: "4,000+",
                    availability: "Available Today",
                    image: "https://api.dicebear.com/7.x/avataaars/svg?seed=Robert",
                    gradient: "linear-gradient(135deg, #30cfd0 0%, #330867 100%)"
                }
            ];

            useEffect(() => {
                if (!active || !scrollerRef.current) return;

                const cards = Array.from(scrollerRef.current.querySelectorAll('.scroll-stack-card'));
                cardsRef.current = cards;

                const itemStackDistance = 30;
                const itemScale = 0.03;
                const baseScale = 0.85;
                const stackPosition = 0.2; // 20%

                cards.forEach((card, i) => {
                    if (i < cards.length - 1) {
                        card.style.marginBottom = '100px';
                    }
                    card.style.willChange = 'transform';
                    card.style.transformOrigin = 'top center';
                    card.style.backfaceVisibility = 'hidden';
                });

                const handleScroll = () => {
                    const scrollTop = scrollerRef.current.scrollTop;
                    const containerHeight = scrollerRef.current.clientHeight;
                    const stackPositionPx = stackPosition * containerHeight;

                    cards.forEach((card, i) => {
                        const cardTop = card.offsetTop;
                        const triggerStart = cardTop - stackPositionPx - itemStackDistance * i;
                        const triggerEnd = cardTop - containerHeight * 0.1;

                        let scaleProgress = 0;
                        if (scrollTop >= triggerStart && scrollTop <= triggerEnd) {
                            scaleProgress = (scrollTop - triggerStart) / (triggerEnd - triggerStart);
                        } else if (scrollTop > triggerEnd) {
                            scaleProgress = 1;
                        }

                        const targetScale = baseScale + i * itemScale;
                        const scale = 1 - scaleProgress * (1 - targetScale);

                        const pinStart = triggerStart;
                        const pinEnd = scrollerRef.current.scrollHeight - containerHeight - 200;

                        let translateY = 0;
                        if (scrollTop >= pinStart && scrollTop <= pinEnd) {
                            translateY = scrollTop - cardTop + stackPositionPx + itemStackDistance * i;
                        } else if (scrollTop > pinEnd) {
                            translateY = pinEnd - cardTop + stackPositionPx + itemStackDistance * i;
                        }

                        const newTransform = {
                            translateY: Math.round(translateY * 100) / 100,
                            scale: Math.round(scale * 1000) / 1000
                        };

                        const lastTransform = lastTransformsRef.current.get(i);
                        if (!lastTransform || 
                            Math.abs(lastTransform.translateY - newTransform.translateY) > 0.1 ||
                            Math.abs(lastTransform.scale - newTransform.scale) > 0.001) {
                            
                            card.style.transform = `translate3d(0, ${newTransform.translateY}px, 0) scale(${newTransform.scale})`;
                            lastTransformsRef.current.set(i, newTransform);
                        }
                    });
                };

                scrollerRef.current.addEventListener('scroll', handleScroll);
                handleScroll();

                return () => {
                    if (scrollerRef.current) {
                        scrollerRef.current.removeEventListener('scroll', handleScroll);
                    }
                };
            }, [active]);

            if (!active) return null;

            return (
                <div ref={scrollerRef} style={{
                    position: 'fixed',
                    top: '140px',
                    left: '50%',
                    transform: 'translateX(-50%)',
                    width: '90%',
                    maxWidth: '900px',
                    height: 'calc(100vh - 220px)',
                    overflowY: 'auto',
                    overflowX: 'visible',
                    zIndex: 100,
                    padding: '2rem 0'
                }}>
                    <div style={{ minHeight: '200vh', padding: '0 1rem' }}>
                        <h2 style={{
                            textAlign: 'center',
                            fontSize: '2.5rem',
                            fontWeight: '700',
                            marginBottom: '3rem',
                            background: 'linear-gradient(135deg, var(--color-primary), var(--color-secondary))',
                            WebkitBackgroundClip: 'text',
                            backgroundClip: 'text',
                            WebkitTextFillColor: 'transparent'
                        }}>
                            Meet Our Expert Doctors
                        </h2>

                        {doctors.map((doctor, index) => (
                            <div key={doctor.id} className="scroll-stack-card" style={{
                                background: doctor.gradient,
                                borderRadius: '30px',
                                padding: '2.5rem',
                                boxShadow: '0 10px 40px rgba(0,0,0,0.15)',
                                position: 'relative',
                                height: 'auto',
                                minHeight: '320px'
                            }}>
                                <div style={{
                                    display: 'flex',
                                    alignItems: 'flex-start',
                                    gap: '2rem',
                                    flexWrap: 'wrap'
                                }}>
                                    <div style={{
                                        width: '120px',
                                        height: '120px',
                                        borderRadius: '50%',
                                        background: 'white',
                                        padding: '8px',
                                        boxShadow: '0 8px 24px rgba(0,0,0,0.15)',
                                        flexShrink: 0
                                    }}>
                                        <img 
                                            src={doctor.image}
                                            alt={doctor.name}
                                            style={{
                                                width: '100%',
                                                height: '100%',
                                                borderRadius: '50%',
                                                objectFit: 'cover'
                                            }}
                                        />
                                    </div>

                                    <div style={{ flex: 1, minWidth: '250px' }}>
                                        <h3 style={{
                                            fontSize: '2rem',
                                            fontWeight: '800',
                                            color: 'white',
                                            marginBottom: '0.5rem',
                                            textShadow: '0 2px 8px rgba(0,0,0,0.1)'
                                        }}>
                                            {doctor.name}
                                        </h3>
                                        
                                        <p style={{
                                            fontSize: '1.3rem',
                                            color: 'rgba(255,255,255,0.95)',
                                            fontWeight: '600',
                                            marginBottom: '1.5rem'
                                        }}>
                                            {doctor.specialty}
                                        </p>

                                        <div style={{
                                            display: 'flex',
                                            gap: '2rem',
                                            flexWrap: 'wrap',
                                            marginBottom: '1.5rem'
                                        }}>
                                            <div style={{
                                                background: 'rgba(255,255,255,0.25)',
                                                padding: '0.75rem 1.25rem',
                                                borderRadius: '15px',
                                                backdropFilter: 'blur(10px)'
                                            }}>
                                                <div style={{
                                                    fontSize: '0.8rem',
                                                    color: 'rgba(255,255,255,0.85)',
                                                    marginBottom: '0.25rem'
                                                }}>Experience</div>
                                                <div style={{
                                                    fontSize: '1.1rem',
                                                    fontWeight: '700',
                                                    color: 'white'
                                                }}>{doctor.experience}</div>
                                            </div>

                                            <div style={{
                                                background: 'rgba(255,255,255,0.25)',
                                                padding: '0.75rem 1.25rem',
                                                borderRadius: '15px',
                                                backdropFilter: 'blur(10px)'
                                            }}>
                                                <div style={{
                                                    fontSize: '0.8rem',
                                                    color: 'rgba(255,255,255,0.85)',
                                                    marginBottom: '0.25rem'
                                                }}>Rating</div>
                                                <div style={{
                                                    fontSize: '1.1rem',
                                                    fontWeight: '700',
                                                    color: 'white',
                                                    display: 'flex',
                                                    alignItems: 'center',
                                                    gap: '0.25rem'
                                                }}>
                                                    <i className="bi bi-star-fill"></i>
                                                    {doctor.rating}
                                                </div>
                                            </div>

                                            <div style={{
                                                background: 'rgba(255,255,255,0.25)',
                                                padding: '0.75rem 1.25rem',
                                                borderRadius: '15px',
                                                backdropFilter: 'blur(10px)'
                                            }}>
                                                <div style={{
                                                    fontSize: '0.8rem',
                                                    color: 'rgba(255,255,255,0.85)',
                                                    marginBottom: '0.25rem'
                                                }}>Patients</div>
                                                <div style={{
                                                    fontSize: '1.1rem',
                                                    fontWeight: '700',
                                                    color: 'white'
                                                }}>{doctor.patients}</div>
                                            </div>
                                        </div>

                                        <div style={{
                                            display: 'flex',
                                            gap: '1rem',
                                            alignItems: 'center',
                                            flexWrap: 'wrap'
                                        }}>
                                            <button 
                                                onClick={() => {
                                                    const now = new Date();
                                                    const patientName = prompt(`Book appointment with ${doctor.name}\n\nðŸ‘¤ Enter your name:`);
                                                    if (patientName && patientName.trim()) {
                                                        const patientPhone = prompt('ðŸ“ž Enter your phone number:');
                                                        if (patientPhone && patientPhone.trim()) {
                                                            const appointmentDate = prompt(`ðŸ“… Enter appointment date (YYYY-MM-DD):`, now.toISOString().split('T')[0]);
                                                            if (appointmentDate) {
                                                                const appointmentTime = prompt('ðŸ• Enter appointment time (HH:MM in 24-hour format):', '10:00');
                                                                if (appointmentTime) {
                                                                    const reasonForVisit = prompt('ðŸ“ Reason for visit (optional):');
                                                                    
                                                                    const bookingDetails = `
âœ… APPOINTMENT CONFIRMED!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ðŸ“‹ BOOKING DETAILS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ‘¤ Patient: ${patientName}
ðŸ“ž Phone: ${patientPhone}

ðŸ‘¨â€âš•ï¸ Doctor: ${doctor.name}
ðŸ¥ Specialty: ${doctor.specialty}
â­ Rating: ${doctor.rating}

ðŸ“… Date: ${appointmentDate}
ðŸ• Time: ${appointmentTime}
${reasonForVisit ? `ðŸ“ Reason: ${reasonForVisit}` : ''}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ‰ï¸ Confirmation sent to ${patientPhone}
â° You will receive a reminder 1 day before
ðŸ“± SMS reminder on appointment day

Thank you for choosing MediSage!
                                                                    `;
                                                                    
                                                                    alert(bookingDetails);
                                                                    
                                                                    // Booking day reminder
                                                                    const appointmentDateTime = new Date(`${appointmentDate}T${appointmentTime}`);
                                                                    const reminderTime = new Date(appointmentDateTime.getTime() - 24 * 60 * 60 * 1000);
                                                                    
                                                                    if (confirm('ðŸ“² Would you like to set a reminder for this appointment?')) {
                                                                        alert(`â° Reminder set for ${reminderTime.toLocaleString()}\n\nWe'll send you a notification 24 hours before your appointment.`);
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }}
                                                style={{
                                                background: 'white',
                                                color: '#1f2121',
                                                border: 'none',
                                                padding: '1rem 2rem',
                                                borderRadius: '25px',
                                                fontWeight: '700',
                                                fontSize: '1rem',
                                                cursor: 'pointer',
                                                boxShadow: '0 4px 15px rgba(0,0,0,0.2)',
                                                transition: 'all 0.3s',
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: '0.5rem'
                                            }}
                                            onMouseOver={(e) => {
                                                e.target.style.transform = 'translateY(-2px)';
                                                e.target.style.boxShadow = '0 6px 20px rgba(0,0,0,0.3)';
                                            }}
                                            onMouseOut={(e) => {
                                                e.target.style.transform = 'translateY(0)';
                                                e.target.style.boxShadow = '0 4px 15px rgba(0,0,0,0.2)';
                                            }}>
                                                <i className="bi bi-calendar-check"></i>
                                                Book Appointment
                                            </button>

                                            <div style={{
                                                background: 'rgba(255,255,255,0.3)',
                                                padding: '0.75rem 1.5rem',
                                                borderRadius: '20px',
                                                color: 'white',
                                                fontWeight: '600',
                                                fontSize: '0.9rem',
                                                display: 'flex',
                                                alignItems: 'center',
                                                gap: '0.5rem'
                                            }}>
                                                <i className="bi bi-clock"></i>
                                                {doctor.availability}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))}

                        <div style={{ height: '100px' }}></div>
                    </div>
                </div>
            );
        }

        // Turtle AI Chat Component
        function TurtleAIChat({ active }) {
            const [messages, setMessages] = useState([]);
            const [inputValue, setInputValue] = useState('');
            const [isLoading, setIsLoading] = useState(false);
            const [turtleAI] = useState(() => new TurtleAI());
            const messagesEndRef = useRef(null);

            useEffect(() => {
                if (active && messages.length === 0) {
                    setMessages([{
                        id: Date.now(),
                        type: 'bot',
                        text: 'ðŸ‘‹ Hello! I\'m Turtle AI, your intelligent medical assistant.\n\n**I\'m trained in:**\nâ€¢ ðŸ”’ HIPAA privacy regulations & patient rights\nâ€¢ ðŸ¥ First aid procedures & emergency care\nâ€¢ ðŸ“š Medical terminology & healthcare information\nâ€¢ ðŸ’Š Medication guidance & drug interactions\nâ€¢ ðŸ©º Symptom assessment & doctor recommendations\n\nHow can I assist you today?',
                        quickReplies: ['HIPAA Info', 'First Aid Guide', 'Medical Terms', 'Find Doctors'],
                        timestamp: new Date()
                    }]);
                }
            }, [active]);

            useEffect(() => {
                messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            }, [messages]);

            const handleSendMessage = async (text) => {
                if (!text.trim()) return;

                const userMessage = {
                    id: Date.now(),
                    type: 'user',
                    text: text,
                    timestamp: new Date()
                };

                setMessages(prev => [...prev, userMessage]);
                setInputValue('');
                setIsLoading(true);

                try {
                    const response = await turtleAI.sendMessage(text);
                    
                    const botMessage = {
                        id: Date.now() + 1,
                        type: 'bot',
                        text: response.response,
                        quickReplies: response.quickReplies,
                        timestamp: new Date()
                    };

                    setMessages(prev => [...prev, botMessage]);
                } catch (error) {
                    console.error('Error:', error);
                } finally {
                    setIsLoading(false);
                }
            };

            const handleQuickReply = (reply) => {
                handleSendMessage(reply);
            };

            const handleClearChat = async () => {
                await turtleAI.clearHistory();
                setMessages([{
                    id: Date.now(),
                    type: 'bot',
                    text: 'ðŸ‘‹ Chat cleared! How can I help you?',
                    quickReplies: ['Find Doctors', 'Book Lab Test', 'Order Medicine', 'Health Tips'],
                    timestamp: new Date()
                }]);
            };

            if (!active) return null;

            return (
                <div style={{
                    position: 'fixed',
                    top: '0',
                    left: '0',
                    width: '100vw',
                    height: '100vh',
                    background: 'white',
                    display: 'flex',
                    flexDirection: 'column',
                    overflow: 'hidden',
                    zIndex: 2000
                }}>
                    {/* Turtle AI Full Page Header */}
                    <div style={{
                        background: 'linear-gradient(135deg, #138808, #0090d9)',
                        color: 'white',
                        padding: '1rem 2rem',
                        display: 'flex',
                        justifyContent: 'space-between',
                        alignItems: 'center',
                        boxShadow: '0 2px 10px rgba(0,0,0,0.1)'
                    }}>
                        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
                            <div style={{
                                width: '50px',
                                height: '50px',
                                background: 'rgba(255,255,255,0.2)',
                                borderRadius: '50%',
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center',
                                fontSize: '1.5rem'
                            }}>
                                ðŸ¢
                            </div>
                            <div>
                                <div style={{ fontWeight: '700', fontSize: '1.5rem' }}>Turtle AI</div>
                                <div style={{ fontSize: '0.9rem', opacity: 0.9 }}>Medical Assistant â€¢ HIPAA Compliant</div>
                            </div>
                        </div>
                        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>
                            <button
                                onClick={handleClearChat}
                                style={{
                                    background: 'rgba(255,255,255,0.2)',
                                    border: 'none',
                                    color: 'white',
                                    padding: '0.75rem 1.25rem',
                                    borderRadius: '12px',
                                    cursor: 'pointer',
                                    fontSize: '0.95rem',
                                    fontWeight: '600',
                                    transition: 'all 0.3s',
                                    display: 'flex',
                                    alignItems: 'center',
                                    gap: '0.5rem'
                                }}
                                onMouseOver={(e) => e.target.style.background = 'rgba(255,255,255,0.3)'}
                                onMouseOut={(e) => e.target.style.background = 'rgba(255,255,255,0.2)'}
                            >
                                <i className="bi bi-trash"></i> Clear Chat
                            </button>
                            <button
                                onClick={() => window.location.reload()}
                                style={{
                                    background: 'rgba(255,255,255,0.95)',
                                    border: 'none',
                                    color: '#138808',
                                    padding: '0.75rem 1.25rem',
                                    borderRadius: '12px',
                                    cursor: 'pointer',
                                    fontSize: '0.95rem',
                                    fontWeight: '600',
                                    transition: 'all 0.3s',
                                    display: 'flex',
                                    alignItems: 'center',
                                    gap: '0.5rem'
                                }}
                                onMouseOver={(e) => e.target.style.background = 'white'}
                                onMouseOut={(e) => e.target.style.background = 'rgba(255,255,255,0.95)'}
                            >
                                <i className="bi bi-house-fill"></i> Home
                            </button>
                        </div>
                    </div>

                <div style={{
                    flex: 1,
                    display: 'flex',
                    flexDirection: 'column',
                    overflow: 'hidden',
                    maxWidth: '1400px',
                    margin: '0 auto',
                    width: '100%'
                }}>
                    {/* Messages Container */}
                    <div style={{
                        flex: 1,
                        overflowY: 'auto',
                        padding: '1.5rem',
                        background: '#f8f9fa'
                    }}>
                        {messages.map((msg) => (
                            <div key={msg.id} style={{
                                marginBottom: '1rem',
                                display: 'flex',
                                justifyContent: msg.type === 'user' ? 'flex-end' : 'flex-start'
                            }}>
                                <div style={{
                                    maxWidth: '70%',
                                    display: 'flex',
                                    flexDirection: 'column',
                                    gap: '0.5rem'
                                }}>
                                    <div style={{
                                        padding: '1rem 1.25rem',
                                        borderRadius: msg.type === 'user' ? '20px 20px 5px 20px' : '20px 20px 20px 5px',
                                        background: msg.type === 'user' 
                                            ? 'linear-gradient(135deg, #138808, #0090d9)'
                                            : 'white',
                                        color: msg.type === 'user' ? 'white' : '#1f2121',
                                        boxShadow: '0 2px 8px rgba(0,0,0,0.08)',
                                        fontSize: '0.95rem',
                                        lineHeight: '1.5'
                                    }}>
                                        {msg.text}
                                    </div>
                                    {msg.quickReplies && msg.quickReplies.length > 0 && (
                                        <div style={{
                                            display: 'flex',
                                            flexWrap: 'wrap',
                                            gap: '0.5rem'
                                        }}>
                                            {msg.quickReplies.map((reply, idx) => (
                                                <button
                                                    key={idx}
                                                    onClick={() => handleQuickReply(reply)}
                                                    style={{
                                                        background: 'white',
                                                        border: '2px solid #138808',
                                                        color: '#138808',
                                                        padding: '0.5rem 1rem',
                                                        borderRadius: '20px',
                                                        cursor: 'pointer',
                                                        fontSize: '0.85rem',
                                                        fontWeight: '600',
                                                        transition: 'all 0.3s'
                                                    }}
                                                    onMouseOver={(e) => {
                                                        e.target.style.background = '#138808';
                                                        e.target.style.color = 'white';
                                                    }}
                                                    onMouseOut={(e) => {
                                                        e.target.style.background = 'white';
                                                        e.target.style.color = '#138808';
                                                    }}
                                                >
                                                    {reply}
                                                </button>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            </div>
                        ))}
                        {isLoading && (
                            <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>
                                <div style={{
                                    width: '40px',
                                    height: '40px',
                                    background: 'white',
                                    borderRadius: '50%',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    fontSize: '1.2rem'
                                }}>
                                    ðŸ¢
                                </div>
                                <div style={{
                                    background: 'white',
                                    padding: '1rem',
                                    borderRadius: '20px',
                                    display: 'flex',
                                    gap: '0.5rem'
                                }}>
                                    <div style={{
                                        width: '8px',
                                        height: '8px',
                                        background: '#138808',
                                        borderRadius: '50%',
                                        animation: 'pulse 1.5s ease-in-out infinite'
                                    }}></div>
                                    <div style={{
                                        width: '8px',
                                        height: '8px',
                                        background: '#138808',
                                        borderRadius: '50%',
                                        animation: 'pulse 1.5s ease-in-out 0.3s infinite'
                                    }}></div>
                                    <div style={{
                                        width: '8px',
                                        height: '8px',
                                        background: '#138808',
                                        borderRadius: '50%',
                                        animation: 'pulse 1.5s ease-in-out 0.6s infinite'
                                    }}></div>
                                </div>
                            </div>
                        )}
                        <div ref={messagesEndRef} />
                    </div>

                    {/* Input Area */}
                    <div style={{
                        padding: '1.5rem 2rem',
                        background: 'white',
                        borderTop: '1px solid #e0e0e0',
                        boxShadow: '0 -2px 10px rgba(0,0,0,0.05)'
                    }}>
                        <div style={{
                            display: 'flex',
                            gap: '1rem',
                            alignItems: 'center'
                        }}>
                            <input
                                type="text"
                                value={inputValue}
                                onChange={(e) => setInputValue(e.target.value)}
                                onKeyPress={(e) => e.key === 'Enter' && handleSendMessage(inputValue)}
                                placeholder="Type your message..."
                                style={{
                                    flex: 1,
                                    padding: '1rem 1.5rem',
                                    border: '2px solid #e0e0e0',
                                    borderRadius: '25px',
                                    fontSize: '1rem',
                                    outline: 'none',
                                    transition: 'border-color 0.3s'
                                }}
                                onFocus={(e) => e.target.style.borderColor = '#138808'}
                                onBlur={(e) => e.target.style.borderColor = '#e0e0e0'}
                            />
                            <button
                                onClick={() => handleSendMessage(inputValue)}
                                disabled={!inputValue.trim() || isLoading}
                                style={{
                                    background: inputValue.trim() && !isLoading
                                        ? 'linear-gradient(135deg, #138808, #0090d9)'
                                        : '#e0e0e0',
                                    color: 'white',
                                    border: 'none',
                                    width: '50px',
                                    height: '50px',
                                    borderRadius: '50%',
                                    cursor: inputValue.trim() && !isLoading ? 'pointer' : 'not-allowed',
                                    fontSize: '1.2rem',
                                    display: 'flex',
                                    alignItems: 'center',
                                    justifyContent: 'center',
                                    transition: 'all 0.3s'
                                }}
                            >
                                <i className="bi bi-send-fill"></i>
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function App() {
            const [activePage, setActivePage] = useState('home');
            const [activeCategory, setActiveCategory] = useState('YogaMate');
            const [cartCount, setCartCount] = useState(0);

            const categories = ['YogaMate', 'GYMbar', 'Drinks & Supplements', 'Personal Care', 'Ayurvedic'];
            
            const healthConditions = [
                { icon: 'activity', name: 'Diabetes Care' },
                { icon: 'heart-pulse', name: 'Cardiac Care' },
                { icon: 'capsule', name: 'Stomach Care' },
                { icon: 'bandaid', name: 'Pain Relief' },
                { icon: 'lungs', name: 'Liver Care' },
                { icon: 'thermometer-half', name: 'Fever Care' }
            ];

            const quickActions = [
                { icon: 'shop', title: 'Pharmacy Near Me', subtitle: 'FIND STORE', bg: 'bg-mint' },
                { icon: 'clipboard-check', title: 'Get 20% off', subtitle: 'UPLOAD NOW', bg: 'bg-peach' },
                { icon: 'calendar2-check', title: 'Doctor Appointment', subtitle: 'BOOK NOW', bg: 'bg-lavender' },
                { icon: 'droplet-fill', title: 'Lab Tests', subtitle: 'AT HOME', bg: 'bg-blue' }
            ];

            const dockItems = [
                { id: 'home', icon: 'house-fill', label: 'Healthier' },
                { id: 'doctors', icon: 'person-hearts', label: 'Find Doctors' },
                { id: 'lab-tests', icon: 'clipboard2-pulse-fill', label: 'Lab Tests' },
                { id: 'ninja-x', icon: 'lightning-charge-fill', label: 'Ninja X' },
                { id: 'turtle-ai', icon: 'chat-dots-fill', label: 'Turtle AI' }
            ];

            return (
                <>
                    {/* Top Header */}
                    <div className="top-header">
                        <div className="container-custom">
                            <div className="d-flex justify-content-between align-items-center">
                                <div className="d-flex justify-content-center align-items-center" style={{flex: 1}}>
                                    <span className="logo-text">MediSage</span>
                                </div>

                                <div className="header-icons">
                                    <div className="header-icon d-none d-md-block">
                                        <i className="bi bi-gear"></i>
                                    </div>
                                    <div className="header-icon">
                                        <i className="bi bi-cart3"></i>
                                        <span className="cart-badge">{cartCount}</span>
                                    </div>
                                    <button className="login-btn">
                                        <i className="bi bi-person-circle"></i>
                                        <span className="d-none d-md-inline">Login</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Hover Panel Navigation - Hide on home page */}
                    {activePage !== 'home' && (
                        <div className="hover-panel">
                            {dockItems.map(item => (
                                <div 
                                    key={item.id}
                                    className={`hover-panel-item ${activePage === item.id ? 'active' : ''}`}
                                    onClick={() => setActivePage(item.id)}
                                >
                                    <i className={`bi bi-${item.icon} hover-panel-icon`}></i>
                                    <div className="hover-panel-tooltip">{item.label}</div>
                                </div>
                            ))}
                        </div>
                    )}

                    {/* Motion Dock Navigation - Only show on home page */}
                    {activePage === 'home' && (
                        <div className="motion-dock-container">
                            <div className="dock-outer">
                                <div className="dock-panel">
                                    {dockItems.map(item => (
                                        <div 
                                            key={item.id}
                                            className={`dock-item ${activePage === item.id ? 'active' : ''}`}
                                            onClick={() => setActivePage(item.id)}
                                        >
                                            <div className="dock-icon">
                                                <i className={`bi bi-${item.icon}`}></i>
                                            </div>
                                            <div className="dock-label">{item.label}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Category Navigation - Only show on home page */}
                    {activePage === 'home' && (
                        <div className="category-nav">
                        <div className="container-custom">
                            <div className="category-pills">
                                {categories.map(category => (
                                    <button
                                        key={category}
                                        className={`category-pill ${activeCategory === category ? 'active' : ''}`}
                                        onClick={() => setActiveCategory(category)}
                                    >
                                        {category}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>
                    )}

                    {/* HOME PAGE */}
                    <div className={`page-section ${activePage === 'home' ? 'active' : ''}`}>
                        {/* Hero Section */}
                        <section className="hero-section">
                            <div className="beams-container">
                                <canvas id="beamsCanvas"></canvas>
                            </div>
                            <div className="hero-overlay"></div>

                            <div className="container-custom">
                                <div className="hero-content">
                                    <h1 className="hero-title">MEDS ESSENTIALS</h1>
                                    <p className="hero-subtitle">Your Complete Digital Health Assistant</p>
                                    <div className="search-box">
                                        <i className="bi bi-search search-icon"></i>
                                        <input 
                                            type="text" 
                                            className="search-input" 
                                            placeholder="Search Medicines, Doctors, Lab Tests..."
                                        />
                                    </div>
                                </div>
                            </div>
                        </section>

                        {/* Quick Actions */}
                        <section className="quick-actions">
                            <div className="container-custom">
                                <div className="row g-4">
                                    {quickActions.map((action, index) => (
                                        <div key={index} className="col-md-6 col-lg-3">
                                            <div className={`action-card ${action.bg}`}>
                                                <div className="action-icon">
                                                    <i className={`bi bi-${action.icon}`}></i>
                                                </div>
                                                <div className="action-content">
                                                    <div className="action-title">{action.title}</div>
                                                    <div className="action-subtitle">{action.subtitle}</div>
                                                </div>
                                                <div className="action-arrow">
                                                    <i className="bi bi-chevron-right"></i>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </section>

                        {/* Health Conditions */}
                        <section className="health-conditions">
                            <div className="container-custom">
                                <h2 className="section-title">Health is Wealth</h2>
                                <div className="row g-4">
                                    {healthConditions.map((condition, index) => (
                                        <div key={index} className="col-6 col-md-4 col-lg-2">
                                            <div className="condition-card">
                                                <div className="condition-icon">
                                                    <i className={`bi bi-${condition.icon}`}></i>
                                                </div>
                                                <div className="condition-name">{condition.name}</div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </section>
                    </div>

                    {/* Other Pages Placeholders */}
                    <div className={`page-section ${activePage === 'doctors' ? 'active' : ''}`}>
                        <ScrollStackDoctors active={activePage === 'doctors'} />
                    </div>

                    <div className={`page-section ${activePage === 'lab-tests' ? 'active' : ''}`}>
                        <div className="container-custom" style={{minHeight: '400px', paddingTop: '2rem', paddingBottom: '4rem'}}>
                            <h2 className="section-title">Lab Tests & Health Checkups</h2>
                            
                            <div className="row g-4" style={{marginTop: '2rem'}}>
                                {[
                                    {
                                        name: 'Complete Blood Count (CBC)',
                                        price: 'â‚¹399',
                                        description: 'Measures red cells, white cells, platelets',
                                        icon: 'droplet-fill',
                                        color: '#e74c3c'
                                    },
                                    {
                                        name: 'Lipid Profile',
                                        price: 'â‚¹599',
                                        description: 'Cholesterol & triglycerides test',
                                        icon: 'heart-pulse-fill',
                                        color: '#e91e63'
                                    },
                                    {
                                        name: 'Diabetes Screening',
                                        price: 'â‚¹299',
                                        description: 'Fasting & random blood sugar test',
                                        icon: 'activity',
                                        color: '#9c27b0'
                                    },
                                    {
                                        name: 'Thyroid Function Test',
                                        price: 'â‚¹699',
                                        description: 'T3, T4, TSH hormone levels',
                                        icon: 'thermometer-half',
                                        color: '#3f51b5'
                                    },
                                    {
                                        name: 'Liver Function Test',
                                        price: 'â‚¹799',
                                        description: 'Complete liver health assessment',
                                        icon: 'lungs',
                                        color: '#00bcd4'
                                    },
                                    {
                                        name: 'Kidney Function Test',
                                        price: 'â‚¹499',
                                        description: 'Creatinine, urea, electrolytes',
                                        icon: 'capsule-pill',
                                        color: '#009688'
                                    },
                                    {
                                        name: 'Vitamin D Test',
                                        price: 'â‚¹899',
                                        description: 'Vitamin D3 levels check',
                                        icon: 'sun-fill',
                                        color: '#ff9800'
                                    },
                                    {
                                        name: 'Full Body Checkup',
                                        price: 'â‚¹2,499',
                                        description: '50+ tests included',
                                        icon: 'clipboard2-pulse-fill',
                                        color: '#4caf50'
                                    }
                                ].map((test, idx) => (
                                    <div key={idx} className="col-md-6 col-lg-3">
                                        <div style={{
                                            background: 'white',
                                            borderRadius: '20px',
                                            padding: '1.5rem',
                                            boxShadow: '0 4px 15px rgba(0,0,0,0.08)',
                                            transition: 'all 0.3s',
                                            cursor: 'pointer',
                                            height: '100%',
                                            display: 'flex',
                                            flexDirection: 'column'
                                        }}
                                        onMouseOver={(e) => {
                                            e.currentTarget.style.transform = 'translateY(-8px)';
                                            e.currentTarget.style.boxShadow = '0 8px 25px rgba(0,0,0,0.15)';
                                        }}
                                        onMouseOut={(e) => {
                                            e.currentTarget.style.transform = 'translateY(0)';
                                            e.currentTarget.style.boxShadow = '0 4px 15px rgba(0,0,0,0.08)';
                                        }}>
                                            <div style={{
                                                width: '60px',
                                                height: '60px',
                                                borderRadius: '15px',
                                                background: `${test.color}15`,
                                                display: 'flex',
                                                alignItems: 'center',
                                                justifyContent: 'center',
                                                marginBottom: '1rem'
                                            }}>
                                                <i className={`bi bi-${test.icon}`} style={{
                                                    fontSize: '1.8rem',
                                                    color: test.color
                                                }}></i>
                                            </div>
                                            
                                            <h3 style={{
                                                fontSize: '1.1rem',
                                                fontWeight: '700',
                                                marginBottom: '0.5rem',
                                                color: '#1f2121'
                                            }}>{test.name}</h3>
                                            
                                            <p style={{
                                                fontSize: '0.85rem',
                                                color: '#777',
                                                marginBottom: '1rem',
                                                flex: 1
                                            }}>{test.description}</p>
                                            
                                            <div style={{
                                                display: 'flex',
                                                justifyContent: 'space-between',
                                                alignItems: 'center',
                                                marginTop: 'auto'
                                            }}>
                                                <span style={{
                                                    fontSize: '1.5rem',
                                                    fontWeight: '800',
                                                    color: test.color
                                                }}>{test.price}</span>
                                                
                                                <button
                                                    onClick={(e) => {
                                                        e.preventDefault();
                                                        e.stopPropagation();
                                                        const now = new Date();
                                                        const patientName = prompt(`Book ${test.name}\n\nðŸ‘¤ Enter your name:`);
                                                        if (patientName && patientName.trim()) {
                                                            const patientPhone = prompt('ðŸ“ž Enter your phone number:');
                                                            if (patientPhone && patientPhone.trim()) {
                                                                const patientAge = prompt('ðŸ‘¶ Enter your age:');
                                                                if (patientAge) {
                                                                    const testDate = prompt(`ðŸ“… Enter test date (YYYY-MM-DD):`, now.toISOString().split('T')[0]);
                                                                    if (testDate) {
                                                                        const testTime = prompt('ðŸ• Preferred time slot:\n\n1. Morning (7-10 AM)\n2. Afternoon (12-3 PM)\n3. Evening (4-7 PM)\n\nEnter time (HH:MM):', '08:00');
                                                                        if (testTime) {
                                                                            const homeCollection = confirm('ðŸ  Would you like home sample collection?\n\n(Additional â‚¹100 for home visit)');
                                                                            const address = homeCollection ? prompt('ðŸ“ Enter your address for home collection:') : null;
                                                                            
                                                                            const totalPrice = homeCollection ? 
                                                                                `${test.price} + â‚¹100 (Home Collection) = â‚¹${parseInt(test.price.replace('â‚¹', '').replace(',', '')) + 100}` : 
                                                                                test.price;
                                                                            
                                                                            const bookingDetails = `
âœ… LAB TEST BOOKED!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ðŸ“‹ BOOKING DETAILS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ‘¤ Patient: ${patientName}
ðŸ“ž Phone: ${patientPhone}
ðŸ‘¶ Age: ${patientAge}

ðŸ”¬ Test: ${test.name}
ðŸ’° Price: ${totalPrice}

ðŸ“… Date: ${testDate}
ðŸ• Time: ${testTime}

${homeCollection ? `ðŸ  Home Collection: Yes\nðŸ“ Address: ${address}` : 'ðŸ¥ Visit Lab: Yes'}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ“‹ Fasting Required: Check test guidelines
âœ‰ï¸ Confirmation sent to ${patientPhone}
â° You will receive a reminder 1 day before
ðŸ“± SMS reminder on test day

Thank you for choosing MediSage!
                                                                            `;
                                                                            
                                                                            alert(bookingDetails);
                                                                            
                                                                            // Test day reminder
                                                                            const testDateTime = new Date(`${testDate}T${testTime}`);
                                                                            const reminderTime = new Date(testDateTime.getTime() - 24 * 60 * 60 * 1000);
                                                                            
                                                                            if (confirm('ðŸ“² Would you like to set a reminder for this test?')) {
                                                                                alert(`â° Reminder set for ${reminderTime.toLocaleString()}\n\nWe'll send you:\nâ€¢ Fasting instructions (if required)\nâ€¢ Collection time reminder\nâ€¢ Preparation guidelines`);
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }}
                                                    style={{
                                                        background: test.color,
                                                        color: 'white',
                                                        border: 'none',
                                                        padding: '0.6rem 1.2rem',
                                                        borderRadius: '15px',
                                                        fontWeight: '600',
                                                        fontSize: '0.85rem',
                                                        cursor: 'pointer',
                                                        transition: 'all 0.3s'
                                                    }}
                                                    onMouseOver={(e) => {
                                                        e.target.style.transform = 'scale(1.05)';
                                                        e.target.style.boxShadow = '0 4px 12px rgba(0,0,0,0.2)';
                                                    }}
                                                    onMouseOut={(e) => {
                                                        e.target.style.transform = 'scale(1)';
                                                        e.target.style.boxShadow = 'none';
                                                    }}
                                                >
                                                    Book Now
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>

                    <div className={`page-section ${activePage === 'ninja-x' ? 'active' : ''}`}>
                        <div className="container-custom" style={{minHeight: '400px', paddingTop: '2rem'}}>
                            <h2 className="section-title">Ninja X</h2>
                            <p style={{textAlign: 'center', color: '#777'}}>Ninja X features coming soon...</p>
                        </div>
                    </div>

                    <TurtleAIChat active={activePage === 'turtle-ai'} />

                    {/* Footer - Only show on home page */}
                    {activePage === 'home' && (
                        <footer className="footer">
                            <div className="container-custom">
                                <p className="footer-text">
                                    &copy; 2025 MediSage. All rights reserved. | Healthcare Platform for Digital Assistance
                                </p>
                            </div>
                        </footer>
                    )}
                </>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));

        // Simple beam animation
        const canvas = document.getElementById('beamsCanvas');
        if (canvas) {
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = 400;

            const beams = [];
            for (let i = 0; i < 5; i++) {
                beams.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2
                });
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.lineWidth = 2;

                beams.forEach((beam, i) => {
                    beam.x += beam.vx;
                    beam.y += beam.vy;

                    if (beam.x < 0 || beam.x > canvas.width) beam.vx *= -1;
                    if (beam.y < 0 || beam.y > canvas.height) beam.vy *= -1;

                    beams.forEach((other, j) => {
                        if (i !== j) {
                            const dx = other.x - beam.x;
                            const dy = other.y - beam.y;
                            const dist = Math.sqrt(dx * dx + dy * dy);
                            
                            if (dist < 200) {
                                ctx.beginPath();
                                ctx.moveTo(beam.x, beam.y);
                                ctx.lineTo(other.x, other.y);
                                ctx.stroke();
                            }
                        }
                    });
                });

                requestAnimationFrame(animate);
            }

            animate();

            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = 400;
            });
        }
    </script>
</body>
</html>